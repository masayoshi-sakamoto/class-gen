import Vue from 'vue'
import Vuex from 'vuex'
import Vuetify from 'vuetify'
import Cookie from 'cookie-universal'
import Tag from './<%= name %>.vue'
import { defaultData } from './fixtures'
import createStore from '@/store'
import injector from '@/presenter/injector'
import { <%= name %>EntityFactory } from '@/entities/<%= name %>'

Vue.use(Vuex)
Vue.use(Vuetify)

const entities = [
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id1', title: 'タイトル1' }),
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id2', title: 'タイトル2' }),
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id3', title: 'タイトル3' }),
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id4', title: 'タイトル4' }),
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id5', title: 'タイトル5' }),
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id6', title: 'タイトル6' }),
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id7', title: 'タイトル7' }),
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id8', title: 'タイトル8' }),
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id9', title: 'タイトル9' }),
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id10', title: 'タイトル10' }),
  <%= name %>EntityFactory({ id: 'unique_<%= name.toLowerCase() %>_id11', title: 'タイトル11' })
]

export default {
  title: 'components/organisms/List/<%= name %>',
  component: Tag
}

export const Default = () => ({
  components: { Tag },
  template: '<Tag :entities="entities" v-model="options" />',
  data() {
    return {
      entities,
      options: {
        total: 11,
        page: 1,
        itemsPerPage: 10,
        pageCount: 2
      }
    }
  },
  created() {
    const cookies = Cookie()
    const store = createStore()
    const storyState = Object.assign(store.state, defaultData)
    store.replaceState(storyState)

    injector(Vue, store, cookies)
  }
})
